version: 2

sources:
  - name: PC_DBT_DB
    database: PC_DBT_DB
    schema: PC_DBT_SCHEMA
    tables:
      - name: ACCOUNT
        freshness:
          warn_after: {count: 12, period: hour}
          error_after: {count: 24, period: hour}        
        columns: 
        - name: ACCOUNT_ID
          tests:
          - unique
          - not_null
        
      - name: USER
        freshness:
          warn_after: {count: 12, period: hour}
          error_after: {count: 24, period: hour}        
        columns: 
        - name: USER_ID
          tests:
          - unique
          - not_null

  - name: PC_DBT_DB2
    database: PC_DBT_DB
    schema: RAW
    tables:
      - name: PAYMENT
      - name: ACCOUNT
      - name: USER

  - name: SALESFORCE_TABLE_SOURCE
    database: SALESFORCE_DB
    schema: STAGE_SCHEMA
    tables:
      - name: STG_PAYMENT
      - name: STG_ACCOUNT
      - name: STG_USER
      - name: STG_ORDER

  - name: PC_DBT_DB3
    database: PC_DBT_DB
    schema: DBT_KCHAVAN
    tables:
      - name: DIM_DATE
       


  #         models:
  # - name: stg_customers
  #   columns: 
  #     - name: customer_id
  #       tests:
  #         - unique
  #         - not_null
  # - name: stg_orders
  #   columns: 
  #     - name: order_id
  #       tests:
  #         - unique
  #         - not_null
  #     - name: status
  #       tests:
  #         - accepted_values:
  #             values:
  #               - completed
  #               - shipped
  #               - returned
  #               - placed
  #               - return_pending
